(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8360:(e,t,l)=>{Promise.resolve().then(l.bind(l,3528))},3528:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>r});var n=l(5155),a=l(2115);let s=e=>{let{time:t,label:l,isSelected:s,isRunning:o,isShouldReset:r,onComplete:i}=e,[c,d]=(0,a.useState)(t),[u,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e;let l=()=>{if(null!==u&&o&&s){let l=t-Math.floor((Date.now()-u)/1e3);d(l>0?l:0),l<=0&&(clearInterval(e),i(),m(null))}null===u&&m(Date.now())};return o&&s&&(l(),e=setInterval(l,10)),()=>{e&&clearInterval(e)}},[o,s,u]),(0,a.useEffect)(()=>{r&&(d(t),m(null))},[r,t]);let g=100-c/t*100;return(0,n.jsxs)("div",{className:"h-16 px-4 flex items-center justify-center rounded-lg transition-all duration-300 relative overflow-clip bg-gray-50 ".concat(!s&&o?"opacity-50":""," ").concat(s?"outline outline-2 outline-indigo-500":""),children:[(0,n.jsxs)("div",{className:"flex justify-between items-center w-full z-10",children:[(0,n.jsx)("span",{className:"text-lg text-gray-700",children:l}),(0,n.jsxs)("div",{className:"flex flex-col items-end",children:[(0,n.jsx)("span",{className:"text-lg text-gray-700",children:function(e){let t=Math.floor(e/3600),l=Math.floor(e%3600/60),n=Math.floor(e%60),a=[];return t>0&&a.push("".concat(t,"時間")),l>0&&a.push("".concat(l,"分")),(n>0||0===a.length)&&a.push("".concat(n,"秒")),a.join("")}(c)}),u&&(0,n.jsx)("span",{className:"text-xs text-gray-500",children:function(e){let t=new Date(e),l=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),a=String(t.getSeconds()).padStart(2,"0");return"".concat(l,"時").concat(n,"分").concat(a,"秒")}(u)})]})]}),(0,n.jsx)("div",{className:"absolute top-0 left-0 h-full transition-all duration-300 ".concat(s?"bg-blue-200":"bg-blue-100"),style:{width:"".concat(g,"%")}})]})},o=[{time:60,label:"やることを決める",sound:"bell.mp3",gradient:"from-orange-500 to-yellow-500"},{time:780,label:"作業",sound:"completed.mp3",gradient:"from-blue-500 to-cyan-500"},{time:60,label:"振り返り",sound:"bell.mp3",gradient:"from-orange-500 to-yellow-500"},{time:300,label:"休憩",sound:"bell.mp3",gradient:"from-green-500 to-emerald-500"}];function r(){let[e,t]=(0,a.useState)(!1),[l,r]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(0),[g,f]=(0,a.useState)(o),h=()=>{r(!0),t(!0),i("start.mp3")},x=()=>{u<g.length-1?(m(e=>e+1),i(g[u].sound),c&&d(!1)):(b(),h())},p=e=>t=>{f(l=>{let n=[...l];return n[e].time=t,n})},b=()=>{r(!1),t(!1),m(0),f(o.concat()),d(!0)};return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br ".concat(l?g[u].gradient:"from-gray-400 to-gray-600"," flex items-center justify-center px-4"),children:(0,n.jsxs)("div",{className:"max-w-md w-full",children:[(0,n.jsx)("div",{className:"space-y-4 mb-8",children:g.map((e,t)=>(0,n.jsx)(a.Fragment,{children:(0,n.jsx)(s,{time:e.time,label:e.label,isSelected:t===u,isRunning:l,isShouldReset:c,onComplete:x,onChangeTime:p(t)})},t))}),(0,n.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,n.jsxs)("div",{className:"flex justify-center space-x-4",children:[!l&&(0,n.jsx)("button",{onClick:h,className:"w-36 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 font-medium",children:e?"再開":"スタート"}),l&&(0,n.jsx)("button",{onClick:()=>{r(!1),i("pause.mp3")},className:"w-36 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium",children:"一時停止"})]})})]})})}let i=e=>{new Audio("".concat("/adhd-pomodoro-timer","/sounds/").concat(e)).play().catch(e=>{console.warn("Audio playback failed:",e)})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(8360)),_N_E=e.O()}]);